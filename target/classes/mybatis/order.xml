<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 	 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="myorder">
	<select id="getOrderList" resultType="MyOrder">
		SELECT orderid, orderqty, orderuse, p.*
		FROM orders o, products p
		WHERE o.prodid = p.prodid AND orderid like #{memid}
	</select>
	
	<select id="getOrder" resultType="MyOrder">
		SELECT orderid, orderqty, orderuse, p.*
		FROM orders o, products p
		WHERE o.prodid = p.prodid AND orderid=#{orderid}
	</select>
	
	<insert id="insertOrder" parameterType="MyOrder">
		INSERT INTO orders
		VALUES(#{orderid},#{orderqty},default,#{prodid})
	</insert>
	
	<delete id="deleteOrder">
		DELETE FROM orders
		WHERE orderid=#{orderid}
	</delete>
</mapper>